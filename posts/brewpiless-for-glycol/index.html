<!doctype html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="BrewPiLess for Glycol" /><meta name="author" content="Vito" /><meta property="og:locale" content="en" /><meta name="description" content="BrewPi is derived from BrewPi v0.2.x, which is designed for fermentation chambers made by fridges. The latest BrewPi v0.4.x has evolved to be a general temperature control unit. The code is very different from v0.2.x, and porting v0.4.x might not be an easy job. Instead, I implemented two main features that might make glycol possible: fallback sensor and adjustable minimum time. In addition to using binary for glycol or building with “EnableGlycolSupport” defined, there are setups and settings that must be tweaked." /><meta property="og:description" content="BrewPi is derived from BrewPi v0.2.x, which is designed for fermentation chambers made by fridges. The latest BrewPi v0.4.x has evolved to be a general temperature control unit. The code is very different from v0.2.x, and porting v0.4.x might not be an easy job. Instead, I implemented two main features that might make glycol possible: fallback sensor and adjustable minimum time. In addition to using binary for glycol or building with “EnableGlycolSupport” defined, there are setups and settings that must be tweaked." /><link rel="canonical" href="https://www.vito.tw/posts/brewpiless-for-glycol/" /><meta property="og:url" content="https://www.vito.tw/posts/brewpiless-for-glycol/" /><meta property="og:site_name" content="Vito’s" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2017-08-14T00:44:45+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="BrewPiLess for Glycol" /><meta name="twitter:site" content="@vitotai" /><meta name="twitter:creator" content="@Vito" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Vito"},"dateModified":"2025-03-11T00:46:58+00:00","datePublished":"2017-08-14T00:44:45+00:00","description":"BrewPi is derived from BrewPi v0.2.x, which is designed for fermentation chambers made by fridges. The latest BrewPi v0.4.x has evolved to be a general temperature control unit. The code is very different from v0.2.x, and porting v0.4.x might not be an easy job. Instead, I implemented two main features that might make glycol possible: fallback sensor and adjustable minimum time. In addition to using binary for glycol or building with “EnableGlycolSupport” defined, there are setups and settings that must be tweaked.","headline":"BrewPiLess for Glycol","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.vito.tw/posts/brewpiless-for-glycol/"},"url":"https://www.vito.tw/posts/brewpiless-for-glycol/"}</script><title>BrewPiLess for Glycol | Vito's</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Vito's"><meta name="application-name" content="Vito's"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"><body><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/img/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><div class="site-title"> <a href="/">Vito's</a></div><div class="site-subtitle fst-italic">irresponsible writings</div></div><ul class="nav flex-column flex-grow-1 w-100 ps-0"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/links/" class="nav-link"> <i class="fa-fw fas fa-asterisk"></i> <span>小工具&PROJECTS</span> </a></ul><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://github.com/vitotai" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/vitotai" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container px-xxl-5"><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100" > <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>BrewPiLess for Glycol</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </span> <span id="search-cancel">Cancel</span></div></div><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4"><div class="post px-1 px-md-2"><h1 data-toc-skip>BrewPiLess for Glycol</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1502671485" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Aug 14, 2017 </em> </span> <span> Updated <em class="" data-ts="1741654018" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Mar 11, 2025 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href=""></a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="436 words" > <em>2 min</em> read</span></div></div></div><div class="post-content"><p>BrewPi is derived from BrewPi v0.2.x, which is designed for fermentation chambers made by fridges. The latest BrewPi v0.4.x has evolved to be a general temperature control unit. The code is very different from v0.2.x, and porting v0.4.x might not be an easy job. Instead, I implemented two main features that might make glycol possible: fallback sensor and adjustable minimum time.<br /> In addition to using binary for glycol or building with “EnableGlycolSupport” defined, there are setups and settings that must be tweaked.</p><h2 id="setup"><span class="me-2">Setup</span><a href="#setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Don’t use Fridge Sensor. The “fallback” feature will use the reading from Beer Sensor as Fridge reading.<li>(optional) Use second sensor as Room Sensor to monitor glycol temperature.<li>Beer Constant or Beer Profile mode is preferred.</ul><h2 id="settings"><span class="me-2">Settings</span><a href="#settings" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>minimum times: including <strong>minCoolTime</strong>, <strong>minCoolIdleTime</strong>, <strong>minHeatTime</strong>, <strong>minHeatIdleTime</strong>,and <strong>deadTime</strong><br /> All except <strong>deadTime</strong> are self-explanatory. <strong>deadTime</strong> defines the minimum idle time between heating and cooling, and the waiting time at power-up. 10 seconds seems to be good for all of the values.<li><strong>idleRangeH</strong> &amp; <strong>idleRangeL</strong><br /> The values define the temperature range to stay in idle. That is, no action will be performed if the fridge temperature(from Beer Sensor) stays in this range. The default values are 1.0, so it will start cooling when the temperature reaches 21 degree if the set temperature is 20.<li><strong>maxHeatTimeForEst</strong> &amp; <strong>maxCoolTimeForEst</strong><br /> After cooling or heating, the algorithm expects the temperature to go lower or higher. Usually the temperature won’t go too far in glycol setup. Therefore, set a smaller value for these two, so that it won’t wait too long for detecting peaks.<li>PID settings. <strong>Kp</strong>, <strong>Ki</strong>, <strong>Kd</strong> If all of them are set to zero, the FridgeSet will be equal to BeerSet.<li>(optional) filter settings: fridgeFastFilt, fridgeSlowFilt, fridgeSlopeFilt, beerFastFilt, beerSlowFilt, beerSlopeFilt<br /> Even the data is from the same sensor, the temperature readings of beer and fridge sometimes differ. It is because that they use different filters. The temperature of fridge is volatile, while the beer temperature changes slowly. If you want them to be strictly the same, the filter parameters should be set to same same.</ul><h1 id="after-setting-you-can-use-c-single-lower-case-c-to-read-back-the-setting-for-verification"><em>After setting, you can use “c” (single lower case c) to read back the setting for verification.</em></h1><h1 id="my-testing">My testing</h1><p>This is my initial test by filling 6 gallons of water in my newly purchased Spike CF10 with coil.<br /> <a href="/wp-content/uploads/2017/08/glycol.jpg" class="popup img-link "><img data-src="/wp-content/uploads/2017/08/glycol.jpg" alt="glycol" class="lazyload" data-proofer-ignore></a><br /> My test was conducted with a cooler with frozen PET bottles. The room temperature is the temperature of water in the cooler.<br /> I set all minimum times to 10 seconds, <strong>idleRangeH</strong> to 0.1. <strong>maxCoolTimeForEst</strong> to 30 seconds. PID parameters are left untouched. The result seems acceptable except that more PET bottles (or, a glycol chiller) are needed.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href='/categories/brewpi-esp8266/'>BrewPi@ESP8266</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=BrewPiLess%20for%20Glycol%20-%20Vito's&url=https%3A%2F%2Fwww.vito.tw%2Fposts%2Fbrewpiless-for-glycol%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=BrewPiLess%20for%20Glycol%20-%20Vito's&u=https%3A%2F%2Fwww.vito.tw%2Fposts%2Fbrewpiless-for-glycol%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fwww.vito.tw%2Fposts%2Fbrewpiless-for-glycol%2F&text=BrewPiLess%20for%20Glycol%20-%20Vito's" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/Silvia-GaggiMate-mod-0/">Rancilio Silvia改GaggiMate記錄</a><li class="text-truncate lh-lg"> <a href="/posts/SakeMeasurement/">清酒的量測</a><li class="text-truncate lh-lg"> <a href="/posts/pycnometer/">比重瓶</a><li class="text-truncate lh-lg"> <a href="/posts/sake_recipes/">清酒釀造例範</a><li class="text-truncate lh-lg"> <a href="/posts/SakeBrewing/">清酒釀造</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/brewpiless/">brewpiless</a> <a class="post-tag btn btn-outline-primary" href="/tags/candi-sugar/">candi-sugar</a> <a class="post-tag btn btn-outline-primary" href="/tags/kveik/">kveik</a> <a class="post-tag btn btn-outline-primary" href="/tags/fft/">FFT</a> <a class="post-tag btn btn-outline-primary" href="/tags/homebrew/">Homebrew</a> <a class="post-tag btn btn-outline-primary" href="/tags/open-ardbir-arduino/">Open ArdBir Arduino</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%91%BD%E5%90%8D%E5%A4%A7%E5%B8%AB/">命名大師</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%AE%B6%E9%87%80/">家釀</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E8%87%AA%E9%87%80/">自釀</a></div></div></div><div id="toc-wrapper" class="ps-0 pe-4 mb-5"><div class="panel-heading ps-3 pt-2 mb-2">Contents</div><nav id="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ms-1" data-toc-skip> Further Reading</h3><div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><div class="col"> <a href="/posts/release-v1-2-2/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1486056152" data-df="ll" > Feb 2, 2017 </em><h4 class="pt-0 my-2" data-toc-skip>Release v1.2.2</h4><div class="text-muted small"><p> The major enhancement is on the format of “remote logging”. Add PUT method Use printf-like format Data Type.(Content-type) The printf-like format and specification of content type provide...</p></div></div></a></div><div class="col"> <a href="/posts/brewpiless-release-1-2-3/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1487275571" data-df="ll" > Feb 16, 2017 </em><h4 class="pt-0 my-2" data-toc-skip>BrewPiLess Release 1.2.3</h4><div class="text-muted small"><p> This release is to solve one issue. Under certain circumstances, the log chart will not shown. TL;DR The cause is that the reading from SPIFFS returns zero. I suspect it has something to do with r...</p></div></div></a></div><div class="col"> <a href="/posts/brewpiless-release-1-2-5/" class="card post-preview h-100"><div class="card-body"> <em class="small" data-ts="1487718086" data-df="ll" > Feb 21, 2017 </em><h4 class="pt-0 my-2" data-toc-skip>BrewPiLess Release 1.2.5</h4><div class="text-muted small"><p> Showing temperature chart when it is not being recorded The data is saved in a circular buffer good for around 2-3 hours. Moving the temperature control to main page. Temp...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/e98780e98592e4b8ade6b0b4e79a84e8a888e7ae97/" class="btn btn-outline-primary" prompt="Older" ><p>釀酒中水的計算</p></a> <a href="/posts/brewpiless-release-v2-4/" class="btn btn-outline-primary" prompt="Newer" ><p>BrewPiLess release v2.4</p></a></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/brewpiless/">brewpiless</a> <a class="post-tag btn btn-outline-primary" href="/tags/candi-sugar/">candi-sugar</a> <a class="post-tag btn btn-outline-primary" href="/tags/kveik/">kveik</a> <a class="post-tag btn btn-outline-primary" href="/tags/fft/">FFT</a> <a class="post-tag btn btn-outline-primary" href="/tags/homebrew/">Homebrew</a> <a class="post-tag btn btn-outline-primary" href="/tags/open-ardbir-arduino/">Open ArdBir Arduino</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%91%BD%E5%90%8D%E5%A4%A7%E5%B8%AB/">命名大師</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E5%AE%B6%E9%87%80/">家釀</a> <a class="post-tag btn btn-outline-primary" href="/tags/%E8%87%AA%E9%87%80/">自釀</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div></div><footer><div class="container px-lg-4"><div class="d-flex justify-content-center align-items-center text-muted mx-md-3"><p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p><p>© 2025 <a href="https://twitter.com/vitotai">Vito Tai</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/unregister.js"></script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
